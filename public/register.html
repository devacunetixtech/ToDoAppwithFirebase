<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REGISTER</title>
    <link rel="stylesheet" href="./bootstrap-5.2.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="/bootstrap-5.2.1-dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body style="background-color: darkcyan;">
    <div class="mt-2 mb-2">
        <marquee behavior="" direction="left" style="font: 40px Roboto,sans-serif;color: black;" class="mt-3"><b>Proceed to Register as a new user....</b></marquee>
        <marquee behavior="" direction="right" style="font: 20px Roboto,sans-serif;color: black;">Note:register with correct details ......</marquee>
    </div>
    <div align="center" class="container-fluid" id="registerPage">
        <div class="row">
            <div class="col-10 mx-auto">
                <input type="text" required id="newFullname" class="form-control mb-2" placeholder="Input your fullname" style="width: 55vw;height: 7vh;font: 17px Roboto,sana-serif;">
                <input type="email" required id="newUsermail" class="form-control mb-2" placeholder="Input your email @gmail.com" style="width: 55vw;height: 7vh;font: 17px Roboto,sana-serif;">
                <input type="text" id="newUsername" class="form-control" placeholder="Input username" style="width: 55vw;height: 7vh;font: 17px Roboto,sana-serif;">
                <input type="password" id="newUserPassword" class="form-control mt-2" placeholder="Enter password" style="width: 55vw;height: 7vh;font: 17px Roboto,sana-serif;">
                <input type="number" id="useNumber" class="form-control mt-1" placeholder="+234 enter hotline " style="width: 55vw;height: 7vh;font: 17px Roboto,sana-serif;">
                <button id="regButton" class="btn btn-success mt-2" style="width: 40vw;height: 7vh; font: 25px Roboto,sans-serif;">REGISTER</button><br><br>
                <button class="btn btn-success" onclick="signUpGoogle()" style="font: 24px Roboto,sana-serif;color:black;"><b>Sign Up with</b> <img src="./Google_2015_logo.svg.webp" width="70vw" height="25vh" alt=""></button>
                <br>
                <p style="font: 17px Roboto,sans-serif;color:black;">If you have an account, proceed to <a href="index.html" style="text-decoration: none;color:white;font:18px Roboto,sans-serif;">Login Page</a></p>
            </div>
        </div>
    </div>

    <!-- <script>
        var registerLog = []
        if (localStorage.userlog) {
            registerLog = JSON.parse(localStorage.getItem("userlog"))
        } else {
            registerLog = []
        }
        function userRegister() {
            if (newFullname.value =="" || newUserPassword.value=="" || newUsermail.value=="" || newFullname.value=="" || userNumber.value=="") {
                alert("Fill in all details correctly !!!!!")
            } else {
                regButton.innerHTML = "Registering.....";
                var userFullName = newFullname.value;
                var userName = newUsername.value;
                var userPass = newUserPassword.value;
                var userMail = newUsermail.value;
                var userPhoneNumber = userNumber.value;
                var userDetails = {userFullName, userName, userPass, userMail, userPhoneNumber};
                registerLog.push(userDetails);
                localStorage.setItem("userlog",JSON.stringify(registerLog));
                alert("Hello "+ newFullname.value +" you have successfully logged in on " + Date());
                location.replace("index.html");
            }
        }
    </script> -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBxovPDBU7LtqyDTKnpaJGrEH1w4l97n0g",
          authDomain: "firbase-class-55f7d.firebaseapp.com",
          projectId: "firbase-class-55f7d",
          storageBucket: "firbase-class-55f7d.appspot.com",
          messagingSenderId: "753705363549",
          appId: "1:753705363549:web:38a451763b08acf39545b4"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        const provider = new GoogleAuthProvider();

        document.getElementById("regButton").addEventListener("click", function () {
            var email = newUsermail.value
            var password = newUserPassword.value
            console.log("Email :"+email)
            console.log("Password :"+password)
            createUserWithEmailAndPassword(auth, email, password)
            .then((credentials)=> {
                window.location="localTodoPro.html"
            }).catch((error)=>{
                // alert(error.message)
                alert("Sign Up with a correct email and password > 6 characters !!!")
            })
        })

        // onAuthStateChanged(auth, (user) => {
        //     if (!user) {
        //         window.location="index.html"
        //     }
        // })

        function signUpGoogle() {
            signInWithPopup(auth, provider).then((result)=>{
                console.log(result)
                window.location="localTodoPro.html"
            }).catch((error)=>{
                console.log(error)
            })
        }
        window.signUpGoogle=signUpGoogle;
      </script>
      <!-- <script src="./register.js"></script> -->
</body>
</html>